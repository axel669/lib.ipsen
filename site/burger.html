<html>
    <head>
        <title>Burger Templates</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width" />

        <link href="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/themes/prism-twilight.css" rel="stylesheet" />
        <link href="/style.css" rel="stylesheet" />
    </head>

    <body ws-x="theme[dark]">
        <script src="https://cdn.jsdelivr.net/npm/@axel669/windstorm@0.1.17/dist/browser.js"></script>
        <ws-paper ws-x="r[0px] w[min(100%,800px)] m-l[auto] m-r[auto]">
            <div ws-x="pos[fixed] x[50%] y[0px] grid w[36px] h[40px]
            tr[translateX(max(-400px,-50vw))]">
                <label ws-x="@button @flat $compact $color[primary] r[0px]
                bg[&background-layer] b-s[solid] b-c[&primary]
                b-r-w[2px] b-b-w[2px] b-l-w[2px] r-br[4px] r-bl[4px]"
                for="menu">
                    <ws-icon class="ti-menu-2" ws-x="t-sz[20px]" />
                </label>
            </div>
            <ws-flex ws-x="over[auto] p-x[40px] p-y[0px]" id="wrapper">
                <input type="checkbox" ws-x="hide" id="menu" />
<ws-modal ws-x="&anim-time[200ms]">
    <label for="menu"></label>
    <ws-paper ws-x="@menu r[0px] w[] w-min[20vw] w-max[320px]">
        <ws-flex ws-x="over-y[auto] p-b[16px]">
            <ws-titlebar ws-x="$color[primary]">
                <ws-text ws-x="$title slot[title]">
                    Page Navigation
                </ws-text>
            </ws-titlebar>
            <ws-flex ws-x="p[0px]">
                    <a href="#1-burger-templates"
                    ws-x="p[8px] p-l[16px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        Burger Templates
                    </a>
                    <a href="#1.1-escaped-value"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        Escaped Value
                    </a>
                    <a href="#1.2-unescaped-value"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        Unescaped Value
                    </a>
                    <a href="#1.3-markdown-render"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        Markdown Render
                    </a>
                    <a href="#1.4-render-component"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        Render Component
                    </a>
                    <a href="#1.5-ifelse"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        If/Else
                    </a>
                    <a href="#1.6-forelse"
                    ws-x="p[8px] p-l[32px] t-sz[&text-size-header]
                    t-deco[none] hover:c[&primary] hover:b-r[3px_solid_var(--primary)]"
                    >
                        For/Else
                    </a>
            </ws-flex>

            <ws-titlebar ws-x="$color[secondary]">
                <ws-text ws-x="$title slot[title]">
                    Site Navigation
                </ws-text>
            </ws-titlebar>
            <ws-flex ws-x="t-sz[&text-size-header]">
                
    <div>
            <a href="/index.html"
            ws-x="block t-deco[none] hover:c[&secondary]
            hover:b-r[3px_solid_var(--secondary)]">
                
    <ws-icon class="ti-file-text"></ws-icon>


                Home
            </a>
        
    </div>
    <div>
            <a href="/burger.html"
            ws-x="block t-deco[none] hover:c[&secondary]
            hover:b-r[3px_solid_var(--secondary)]">
                
    <ws-icon class="ti-file-text"></ws-icon>


                Burger Templates
            </a>
        
    </div>

            </ws-flex>
        </ws-flex>
    </ws-paper>
</ws-modal>

                <div>
                    <h1 id="1-burger-templates">
                <a href="#1-burger-templates">Burger Templates</a>
            </h1>
<p>Burger Templates are a template system made for Ipsen (maybe one day it&#39;ll
become its own thing) for rendering different kinds of content with a simple
but powerful template engine. Templates can be of any file type because BT
processes them as strings regardless of file type (file type is mostly for
syntax highlighting in editors), but it does have some utility around rendering
html as that is what ipsen is targetting.</p>
<p>Every template has access to the normal node globals, and the <code>$</code> variable
which has all of the arguments passed into the template. Ipsen will pass the
following arguments to be accessed as <code>$.&lt;name&gt;</code>:</p>
<ul>
<li><p><strong>title</strong></p>
<p>  The title of the current page being rendered</p>
</li>
<li><p><strong>content</strong></p>
<p>  The markdown from the source md file</p>
</li>
<li><p><strong>vars</strong></p>
<p>  The template variables (if any)</p>
</li>
<li><p><strong>options</strong></p>
<p>  The options from the <code>config.options</code> entry</p>
</li>
<li><p><strong>sidebar</strong></p>
<p>  The list of items that appear in the sidebar.</p>
<code-area ws-x="pos[relative]">
    <script>
        function test6() {
            navigator.clipboard.writeText(
                "{\n    // The text shown on screen for the item\n    name,\n    // The markdown file that will be used as the source for the content\n    file,\n    // The template file that should be used to render the page\n    template,\n    // The output file name\n    destFile,\n    // Any items that appear in a list as sub items\n    sublist,\n}"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test6()">
            Copy
        </button>
    </pre-header>
    <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
    <span class="token comment">// The text shown on screen for the item</span>
    name<span class="token punctuation">,</span>
    <span class="token comment">// The markdown file that will be used as the source for the content</span>
    file<span class="token punctuation">,</span>
    <span class="token comment">// The template file that should be used to render the page</span>
    template<span class="token punctuation">,</span>
    <span class="token comment">// The output file name</span>
    destFile<span class="token punctuation">,</span>
    <span class="token comment">// Any items that appear in a list as sub items</span>
    sublist<span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
</code-area>
</li>
<li><p><strong>data</strong></p>
<p>  Access to any data files that are in the <code>.ipsen/data</code> directory.
  <code>$.data[&quot;filename&quot;]</code></p>
</li>
<li><p><strong>headings</strong></p>
<p>  The list of headings in the current file.</p>
<code-area ws-x="pos[relative]">
    <script>
        function test7() {
            navigator.clipboard.writeText(
                "{\n    // The unique ID of the heading (used to generate the links)\n    id,\n    // The depth of the heading\n    depth\n}"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test7()">
            Copy
        </button>
    </pre-header>
    <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
    <span class="token comment">// The unique ID of the heading (used to generate the links)</span>
    id<span class="token punctuation">,</span>
    <span class="token comment">// The depth of the heading</span>
    depth
<span class="token punctuation">}</span></code></pre>
</code-area>
</li>
</ul>
<h2 id="1.1-escaped-value">
                <a href="#1.1-escaped-value">Escaped Value</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test8() {
            navigator.clipboard.writeText(
                "<div>\n    {| js expr |}\n<\/div>"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test8()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {| js expr |}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
</code-area>
<p>The basic syntax for inserting text can take any JS expression and will
render the result, applying html escaping of characters.</p>
<h2 id="1.2-unescaped-value">
                <a href="#1.2-unescaped-value">Unescaped Value</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test9() {
            navigator.clipboard.writeText(
                "<div>\n    {|* js expr |}\n<\/div>"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test9()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {|* js expr |}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
</code-area>
<p>Render the result of the JS expression without applying any html
escaping.</p>
<h2 id="1.3-markdown-render">
                <a href="#1.3-markdown-render">Markdown Render</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test10() {
            navigator.clipboard.writeText(
                "<div>\n    {|md js expr |}\n<\/div>"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test10()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {|md js expr |}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
</code-area>
<p>Treat the result of the JS expression as a markdown string, convert it to html
via <code>marked</code>, and render the html unescaped.</p>
<h2 id="1.4-render-component">
                <a href="#1.4-render-component">Render Component</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test11() {
            navigator.clipboard.writeText(
                "<div>\n    {|@ component.file |}\n<\/div>\n{|@ component.file # args |}"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test11()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {|@ component.file |}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{|@ component.file # args |}</code></pre>
</code-area>
<p>Renders a component by loading the file specified (paths are relative to the
current template file) and passing in the arguments for the current template
plus any arguments specified as key/value pairs (<code>key: value</code>). Does not html
escape the rendered content of the template file.</p>
<h2 id="1.5-ifelse">
                <a href="#1.5-ifelse">If/Else</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test12() {
            navigator.clipboard.writeText(
                "{| if condition1 |}\n    <div>No else here<\/div>\n{||}\n\n{|^ if condition2 |}\n    <div>Stuff<\/div>\n{|: else |}\n    <span>other stuff<\/span>\n{||}"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test12()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html">{| if condition1 |}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>No else here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{||}

{|^ if condition2 |}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Stuff<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{|: else |}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>other stuff<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
{||}</code></pre>
</code-area>
<p>Evaluates the condition (any valid JS if condition) and renders the text if the
condition is true, or renders the content of else when it is defined.</p>
<h2 id="1.6-forelse">
                <a href="#1.6-forelse">For/Else</a>
            </h2>
<code-area ws-x="pos[relative]">
    <script>
        function test13() {
            navigator.clipboard.writeText(
                "{|^ for iterable -> name[, index] |}\n    <div>#{| index + 1 |} - {| name |}<\/div>\n{||}\n\n{|^ for iterable -> name[, index] |}\n    <div>{| name |}<\/div>\n{:else}\n    <span>No items<\/span>\n{||}"
            )
        }
    </script>
    <pre-header ws-x="pos[absolute] y[0px] -x[0px] z[+10]">
        <button ws-x="@fill $color[primary] $compact p-y[2px]"
        onclick="test13()">
            Copy
        </button>
    </pre-header>
    <pre class="language-html"><code class="language-html">{|^ for iterable -> name[, index] |}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>#{| index + 1 |} - {| name |}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{||}

{|^ for iterable -> name[, index] |}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{| name |}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{:else}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>No items<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
{||}</code></pre>
</code-area>
<p>Loops over an iterable object and renders content for each item. Iterable
objects are any object that has a <code>.length</code> property and items accessed like
array elements. Does not support destructuring the loop variable (yet?), but
a named index can be specified.</p>
<p>If there are no items in the iterable, and the <code>else</code> block is specified, the
content of the <code>else</code> block will be rendered.</p>

                </div>
            </ws-flex>
        </ws-paper>
        <script type="module">
            import mermaid
            from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"

            mermaid.run({
                querySelector: ".mermaid"
            })
        </script>
    </body>
</html>
