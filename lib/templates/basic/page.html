<html>
    <head>
        <title>{$ title }</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width" />

        <link href="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/themes/prism${themeCSS[theme]}.css" rel="stylesheet" />
    </head>

    <body ws-x="theme[${theme}]">
        <script src="https://cdn.jsdelivr.net/npm/@axel669/windstorm@0.1.17/dist/browser.js"></script>
        <style>
            input[type=checkbox]+ws-modal > [ws-x~="@menu"] {
                transition: transform var(--anim-time, 250ms) linear;
                transform: translateX(-100%);
            }
            input[type=checkbox]:checked+ws-modal > [ws-x~="@menu"] {
                transform: translateX(0%);
            }
            input[type=checkbox]+ws-modal {
                display: block !important;
                transition: visibility var(--anim-time, 250ms) linear;
                visibility: hidden;
            }
            input[type=checkbox]:checked+ws-modal {
                visibility: visible;
            }

            /* a series of global css defines for the markdown rendering */
            blockquote {
                margin: 0px;
                padding: 4px;
                padding-left: 8px;
            }
            blockquote > p {
                margin: 0px;
                border-left: 4px solid var(--primary);
                padding: 2px;
                padding-left: 4px;
            }
            h1 {
                border-bottom: 2px solid var(--primary);
            }
            ul {
                padding-inline-start: 28px;
            }
            iframe {
                width: 100%;
                height: 250px;
                border: 1px solid var(--primary);
                border-radius: 4px;
            }
            pre {
                overflow-x: auto;
            }

            h2 {
                border-bottom: 1px solid var(--secondary);
            }
            h3 {
                border-bottom: 1px solid var(--text-color-secondary);
            }

            td {
                vertical-align: top;
            }

            /*  Add style for mermaid diagrams.
                The background color for dark mode edges happens to be the same
                as the dark mode background color for ws-paper.
            */
            .mermaid {
                background-color: var(--background);
            }
        </style>
        <ws-paper ws-x="r[0px] w[min(100%,800px)] m-l[auto] m-r[auto]">
            <div ws-x="pos[fixed] x[0px] y[0px] grid w[36px] h[40px]">
                <label ws-x="@button @flat $compact $color[primary] r[0px]
                bg[&background-layer] b-s[solid] b-c[&primary]
                b-r-w[2px] b-b-w[2px] r-br[4px]" for="menu">
                    <ws-icon class="ti-menu-2" ws-x="t-sz[20px]" />
                </label>
            </div>
            <ws-flex ws-x="over[auto] p-x[40px] p-y[0px]" id="wrapper">
                {@ sidebar }
                <div>
                    {& content }
                </div>
            </ws-flex>
            {# for const item of data.items}
                <div>{$ item.file }</div>
            {/}
        </ws-paper>
        <script type="module">
            import mermaid
            from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"

            mermaid.run({})
        </script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@v1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    </body>
</html>
